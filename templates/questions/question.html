{%extends 'base.html'%}

{%load static%}

{%block title%}Question{%endblock%}

{%block content%}        
    <div class = "main-container">
        <section id = "start-question">
            <div class="question-wrapper">
                <div class = "photo"><img src="{%static 'img/profilepic.png'%}"></div>
                <div>
                    <div class="text-wrapper">
                        <div class = "h2-container">
                            <h2>{{question.title}}</h2>
                        </div>
                        <div>
                            <p>{{question.question_text}}</p>
                        </div>
                    </div>

                    <div class="question-lowbar">
                        <div class = "question-tags">
                            tags:
                            {% for tag in question.tags.all %}
                                <a href="{% url 'tag' tag %}">{{ tag }}</a>
                            {% endfor %}
                        </div>
                        <div class = "like-btn">
                            {{question.like_count}}
                            <input type ="checkbox" id = "like-btn">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class = "answers">
            {%for answer in answers%}
            <div class="answer-wrapper" id="answer-{{ answer.id }}">
                <div class = "photo"><img src="{%static 'img/profilepic.png'%}"></div>
                <div>
                    <div class="text-wrapper">
                        <div>
                            <p>{{answer.text}}</p>
                        </div>
                    </div>

                    <div class="answer-lowbar">
                        <div class = "correct-btn">
                            <input type ="checkbox" id = "correct-btn">
                            Correct!
                        </div>
                        <div class = "like-btn">
                            {{answer.like_count}}
                            <input type ="checkbox" id = "like-btn">
                        </div>                            
                    </div>

                </div>
            </div>
            {%endfor%}

        </section>

        <section class = "new-answer">
                <form method="post" action="{% url 'question_details' question.pk %}">
                {% csrf_token %}
                <div class="input-answer">
                    <div>
                        {{ answer_form.text }}
                        {% if answer_form.text.errors %}
                            <div style="color:red; font-size: 1rem">
                                {% for error in answer_form.text.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div class="btn-wrapper">
                        <button type="submit" class="ans-btn">Answer</button>
                    </div>
                </div>
            </form>
        </section>

    </div>
{%endblock%}
